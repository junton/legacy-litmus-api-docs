<!-- page=REST Spam Tests -->
<!-- uid=8f58ab064efb2adbc1b126f0da2c1109fa7bd6b1 -->
<!-- time=1443529414 -->
<!-- ip=50.233.29.58 -->
<!-- content-type=text/html -->
<!-- name=Justin Unton -->
<!-- email=junton@litmus.com -->
<h2><span style="color:#ff0000;">This documentation is no longer kept up-to-date. &nbsp;As of 2015 the new Reseller API documentation can be found here:&nbsp;</span><span style="color:#ff0000;"><a href="https://litmus.com/partners/api/documentation">link</a></span></h2>
<p>&nbsp;</p>
<h2>Introduction</h2>
<p>&nbsp;</p>
<p>For Spam Tests the work flow is:</p>
<p>&nbsp;</p>
<ul><li><span style="font-size:13px;line-height:1.5em;">Create an EmailTest with Litmus and get a result back from us</span></li>
<li><span style="font-size:13px;line-height:1.5em;">Send us your email to a unique email address you get from us</span></li>
<li><span style="font-size:13px;line-height:1.5em;">Send your email to the Spam Seed Addresses.</span></li>
<li><span style="font-size:13px;line-height:1.5em;">Poll the api periodically to see if your tests are complete &nbsp;</span></li>
</ul><p>&nbsp;</p>
<h2>Details</h2>
<p>&nbsp;</p>
<p><strong>Step 1</strong> :: Start a Litmus spam test by sending a POST request to <a href="https://previews-api.litmus.com/api/v1/EmailTests">https://previews-api.litmus.com/api/v1/EmailTests</a></p>
<p>&nbsp;</p>
<p>You can customze the request by only requesting a few TestingApplications.</p>
<p>You can get a complete list of TestingApplications by making a GET request to <a href="https://previews-api.litmus.com/api/v1/EmailTests/TestingApplications">https://previews-api.litmus.com/api/v1/EmailTests/TestingApplications</a>. &nbsp;Spam clients will all have a ResultType of 'spam'. &nbsp;If you want to test all TestingApplications you can just send an empty EmailTest object.</p>
<p>&nbsp;</p>
<p>An example of a creating an email preview for all TestingApplications would look like this:</p>
<p>&nbsp;</p>
<pre>curl -u username:password -X POST -H "Content-type: application/json" &nbsp;https://previews-api.litmus.com/api/v1/EmailTests -d '{}'</pre>
<p>&nbsp;</p>
<p>An example of a creating an email preview for only some spam TestingApplications would look like this:</p>
<p>&nbsp;</p>
<pre>curl -u username:password -X POST -H "Content-type: application/json" &nbsp;<a href="https://previews-api.litmus.com/api/v1/EmailTests">https://previews-api.litmus.com/api/v1/EmailTests</a> -d '{ "TestingApplications" : [ { "ApplicationLongName" : "SpamAssassin",</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "ApplicationName" : "spamassassin3",</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "AverageTimeToProcess" : 0,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "BusinessOrPopular" : true,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "Completed" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "DesktopClient" : true,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FoundInSpam" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FullpageImage" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FullpageImageContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FullpageImageNoContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FullpageImageThumb" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FullpageImageThumbContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FullpageImageThumbNoContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "Id" : 0,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "PlatformLongName" : "",</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "PlatformName" : "",</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "RenderedHtmlUrl" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "ResultType" : 0,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "SpamHeaders" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "SpamScore" : 0,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "State" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "Status" : 0,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "SupportsContentBlocking" : false,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "SupportsSpamScoring" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "WindowImage" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "WindowImageContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "WindowImageNoContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "WindowImageThumb" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "WindowImageThumbContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "WindowImageThumbNoContentBlocking" : null</pre>
<pre>&nbsp; &nbsp; &nbsp; },</pre>
<pre>&nbsp; &nbsp; &nbsp; { "ApplicationLongName" : "Postini",</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "ApplicationName" : "postini",</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "AverageTimeToProcess" : 0,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "BusinessOrPopular" : true,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "Completed" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "DesktopClient" : true,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FoundInSpam" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FullpageImage" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FullpageImageContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FullpageImageNoContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FullpageImageThumb" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FullpageImageThumbContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "FullpageImageThumbNoContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "Id" : 0,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "PlatformLongName" : "",</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "PlatformName" : "",</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "RenderedHtmlUrl" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "ResultType" : 0,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "SpamHeaders" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "SpamScore" : 0,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "State" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "Status" : 0,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "SupportsContentBlocking" : false,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "SupportsSpamScoring" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "WindowImage" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "WindowImageContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "WindowImageNoContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "WindowImageThumb" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "WindowImageThumbContentBlocking" : null,</pre>
<pre>&nbsp; &nbsp; &nbsp; &nbsp; "WindowImageThumbNoContentBlocking" : null</pre>
<pre>&nbsp; &nbsp; &nbsp; }</pre>
<pre>&nbsp; &nbsp; ] }'</pre>
<p>&nbsp;</p>
<p><strong>Step 2</strong> :: Send your email to Litmus</p>
<p>&nbsp;</p>
<p>The response you receive from Step 1 will look something like this (note the ellipses are used to omit longer portions of the response that aren't needed right now):</p>
<p>&nbsp;</p>
<pre>{ "Error" : false,</pre>
<pre>&nbsp; "ErrorMessage" : null,</pre>
<pre>&nbsp; "Html" : null,</pre>
<pre>&nbsp; "Id" : 17344221,</pre>
<pre>&nbsp; "InboxGuid" : "740617c",</pre>
<pre>&nbsp; "Sandbox" : false,</pre>
<pre>&nbsp; "Source" : "<a href="https://s3.amazonaws.com/sitevista/">https://s3.amazonaws.com/sitevista/"</a>,</pre>
<pre>&nbsp; "State" : "waiting",</pre>
<pre>&nbsp; "Subject" : "",</pre>
<pre>&nbsp; "TestType" : 0,</pre>
<pre>&nbsp; "TestingApplications" : [ { "ApplicationLongName" : "Postini" ...],</pre>
<pre>&nbsp; "UserGuid" : null,</pre>
<pre>&nbsp; "ZipFile" : "<a href="http://zip.litmus.com/resellers/?guid=...">http://zip.litmus.com/resellers/?guid=..."</a></pre>
<pre>}</pre>
<p>&nbsp;</p>
<p>In this response you received from your request in Step 1 there are two things we want to look at.</p>
<p>&nbsp;</p>
<p>InboxGuid - This is a unique string for this test. &nbsp;You will want to send your email to InboxGuid@emailtests.com &nbsp;When we receive your email we will know to tie it to your previously created test.</p>
<p>&nbsp;</p>
<p>Id - This is unique integer for your test. &nbsp;This is the id you will use to make future calls regarding this test to check the status and to get your results.</p>
<p>&nbsp;</p>
<p><strong>Step 3</strong> :: Send your email to Litmus' spam seed addresses</p>
<p>&nbsp;</p>
<p>Get the Litmus spam seed addresses by making a GET request to <a href="https://previews-api.litmus.com/api/v1/SpamSeedAddresses">https://previews-api.litmus.com/api/v1/SpamSeedAddresses</a>.</p>
<p>&nbsp;</p>
<p>This will return a list of email addresses for you to send your email to. &nbsp;It is very important when performing a spam test to send your email to each of these addresses.</p>
<p>&nbsp;</p>
<p><strong>Step 4</strong> :: Check to ensure your email has been received and is being processed</p>
<p>&nbsp;</p>
<p>Make a GET request to <a href="https://previews-api.litmus.com/api/v1/EmailTests/%7Bid%7D">https://previews-api.litmus.com/api/v1/EmailTests/{id}</a> with the Id of your test which you received in the response to Step 1. &nbsp;Check the State field. &nbsp;There are 3 possible States:</p>
<p>&nbsp;</p>
<p>waiting - Litmus is still waiting to receive your email. &nbsp;Your test is not running.</p>
<p>processing - Litmus has received your email and is running your test.</p>
<p>complete - Litmus has completed processing of your email test.</p>
<p>&nbsp;</p>
<p>If after a few minutes your test continues to be in a Waiting status it is safe to resend your email. &nbsp;If this happens frequently or if your test never leaves the Waiting status you should contact our support team at resellers@litmus.com</p>
<p>&nbsp;</p>
<p><strong>Step 5</strong> :: Getting your results</p>
<p>&nbsp;</p>
<p>You can check on the status of your results by making a GET request to <a href="https://previews-api.litmus.com/api/v1/EmailTests/%7Bid%7D">https://previews-api.litmus.com/api/v1/EmailTests/{id}</a></p>
<p>&nbsp;</p>
<p>Make sure to check the State of each TestingApplication. &nbsp;A State of Complete means you can parse that result. &nbsp;For spam tests you will want to parse the SpamHeaders object to get the SpamScore and IsSpam markers.</p>
<p>&nbsp;</p>
<p>For more information on how best to parse the results see&nbsp;<a href="/w/page/83901760/REST%20Understanding%20spam%20results">REST Understanding spam results</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<!-- pbraw=eJztWltv2zoSfvevILzo5iywtnzJpXVT70nTps3iXII6RfeC80BLVMSaIrkkFTc96H/fGVJS5ERO48RnsQ8JggSWOfeZj9QMNb1gkw9vZ+dkpmlOzpl1tlPwZPI83XtO54P9XZbORzSZx8P5cLSfDhI6iofDwYuUHsyT/fmw43jOJsPd3fHe6MXucLfD9WRv0B+Nx/3Ri/7e806spGPS9dyVZhPHvrgoc7noSApkfy+s45J8lE7JDsspF5PPBX74UXCXF7Yfq7yDy3uX3FxwOZGq0+v1yBvqKDlRQqilJfCgc5iNpodWU0msuxLsVTdWQpnJn9J0AD8vu9PzjFuSqLjIQRfquJIEHkhFhJIXzJAF044UuudUL6GO9cmf5dzql0eWqJSMBsM94jJGJFuSD8wyIYDk6Oz0BscY5M8ZSVUhE5IxwyaBy2GEqt2t4CElmWHpq27mnLaTKLr2QKSpcZIZG1HNoxWR3angcnEY0WklIwJPdA71tJKsp945p9IZlRQxErWu0dMTZRpJ4O1dKrMgKXgZnDWp1jWpCjE9FHzVshQC3rP8K2TFWH95CQqyXsb4ReYmw/4ey8HYY8PAyQRo3mLQUSBZcpeRn7zR8EVCLpgjlBhmC+HInMagiFE5KWxtKQjuPET6jAF7kHKlCkN81hGnQFYh+X8KVj6hSQKy/SKvylaFr0pGT3vHzxhLyFEQzGz/0bLOoEI8d8gbopnhKuExFeIKpVrGCE+DKs5HnBpGIN20YBCb1cwNKkQY7lup9YY5MMSuyapDC4knL6YzxzQZAr/wkUwmZOYgr8HvZdAtugA1IfMr0E4mXF7At2e/AjgZBpGBb0DvW4WiDbvkbGl7YGW/UTVYLJfDqM4w251uTBIq63be6+k/IS+w3mOAMJV/Zd7PlZpggJLg5vJzMCQF8DgPn460FhAJLEYM8yrHkPh1IAQHhgBCLaQoJ6eLwP7d2y25KWqR9ADXtbFBd1bQ6jM+FhygzELxQ6ZCZpKMXkK6IshC2Z/DloGm72Bq7FSEpz5pyZJKb6jPGCRtc9BV6dPPECWfU4g5LNfuqoE8av6Zxa7fHucjWP+FYixQE4gLQpf3uCwruPQIwL5Zq8dSFSKBvUYtIJ4LTJY1gArMpnFhBOkVgDbM+G1SU2sBihPS+0coh9570j1u7qtQ4bW06LOFjaF01sZhI72E7Pz+becQSR7tD18FVuUsVPf/lWv+50ASXEu6bfVFJuTfBL5rPPwJcPIXsBG/62K1HFkL1nLZ/WsdHPgbjCGt/5rsalYYCVqyGm/C65IZOC2ew3nvXJ0ZFcMuhQwH92fxugCZQParOVO6ENQgvTMFuz+L4xIXEySVhRD3J33D7MIpfewxZ3PJJ3isO5UYic1ln8BqDd47zeHPI8nL9H4tVIzY/0huv6jt8jvPiny+DR5/gFpbsPU02TDnzwR1AIX5SjlvUHYV/UNoP8COB68hyXt4hfpoxObWXu/DG1qNVfKeUZBuN5eKxLNYmY2FwkvRA4oLyYpNoWxWaK2Msy0JlVJhN8CVilNl9YPS8hOXiVo+EF0axI+ujwavLVRbg9sDceUmh62rtNbK73L89n2hd5wIzhSeIvgjDwN6cy5Px4CnY8DTMeDpGPB0DHg6BjwdA7ZwDFi/4jeyvhGz0lgdrTZWb/eYQ4+1vcV17juXVitpme+YGRYzfslCzzs0bkOHzndpsJ3jMmz51P0a8oNULrRAmRBcWxa6yYVlCUpXOXfVpAWT3Dd+VFr2TEvJLqMOqeSOI5KxBEgNtrOJVMu/rO0IwQnprTHK3FlxYcnPcOT4TmF0ESLvXBCAf3gw3t0djYbtS+RcfXlXcL+ye7A72B8exK1w3Z1RmcDiu5WfQSTjAPq3elZ23Kc5/aokXYbOk+WOXXLraHTdpbprETam2qVWKNpdUo79qjUWFL57un5L8u2uO7eOBzXEquMv6ff7v7Vy/WiZqaKwNpz/4vqEixbngtu+ct3s6Zly8Gejv10A21cgOLj4fkvLUUKtwbd1hX0qQ021lWQSatLXdtXs57KqUYczR194boljJfCpJUtWt8p9+dJ1ne46bUmP+HEp/NZDMUAXrHjs6XrlsOteNeRxcOHhoZJjb+NPzfxH/8gPnNBVJYtPGZOoaYU8DWLUH5kvAAZ8v58zwr0Yv0hjB1YVVlyFVjQCDuq2xsamcaVpHGAbgQltq6dhlW3VWkQqnoTBA2pTIGApnL4ATBauwNEZFQKjdkGNH13VfsKFccbihedi/THDjzjhOQ57ymjiEcuu0XsF7Mf3A/ud0HO3OFSk1VCxnf070AJ1a07iVum2OWryJxzgXk86791Pv0XpB0rrdjVezpUMg/hI0Lsapa1MeMG2MvLtqVuPnRzmAbz8XhGe4yaGyb7EvNXM4Mk8+OZ6itleCIzGWbn1QQrRxrD3u3HfXYn7ccgo4Cgtpl9DTEYhXgw0q1EDs43jQ1RSh5d2lrTL/BlzepvzxGcHr3ny7ODNQ4aIv/Pkm5+d+OsBmKNQwqoxtoYQcPDoCkZyeeNkoUqErGJ5XFej3+VIyplIrku+QtExHFas5XNRrlszl5qWGyRAS1lA4GrYnTwihm9Ag9vQ1sDP0hZ/JcURU0gJVHVOlAFbEYExrg1uxL6MdMmiAWgVs3qwvMKqepqQhrDKz2Xy3gGrKaGpAwwNU24ohQJWN4KEl4DgITwDT8wRc2Hpp9I5JSJyb7+lKQvuulE8jfGvR9aMag2pDxsiJql0sAFAGTdvNMApEsqVCEYvWUDwGxIxaWzm54+oII0BHYDWhjcx4AGlDGfSejdv3Eq6R7nurZQrQKyrA1KC/XduFvgkVbK5a1QRKRn8QRcAtlGwd2CLh6uVPTFUISIzouPt42B9Het6ZdUAJDmjjUG/pqZ6lQg+qkjxdlONzfZ6I6/OLBVhuIpT9izKqwHVRl1965sSvtJO/es6xMAsYPma6kDROVJwiftEuCsGvxkcaOZltK7FV6GF/bdkUwUyWkbYx4qej18Mhgf7gwjv7T0bDT5idwcSxN+Ygc9oJvwrGXWn/nrfyqLgiToL10Xr+tN/ARMihUA= -->
